{"version":3,"sources":["angular-preload-image.js"],"names":["angular","module","factory","url","successCallback","errorCallback","element","Image","bind","attr","directive","preLoader","restrict","terminal","priority","link","scope","attrs","ngSrc","default","defaultImage","$set","undefined","fallbackImage","preloadBgImage","css","background-image"],"mappings":"CAAA,SAAWA,GACT,YAEAA,GAAQC,OAAO,4BAEfD,EAAQC,OAAO,yBAAyBC,QAAQ,YAAa,WAE3D,MAAO,UAAUC,EAAKC,EAAiBC,GACrCL,EAAQM,QAAQ,GAAIC,QAASC,KAAK,OAAQ,WACxCJ,MACCI,KAAK,QAAS,WACfH,MACCI,KAAK,MAAON,MAInBH,EAAQC,OAAO,yBAAyBS,UAAU,gBAAiB,YACjE,SAAUC,GAER,OACEC,SAAU,IACVC,UAAU,EACVC,SAAU,IACVC,KAAM,SAAUC,EAAOV,EAASW,GAC9B,GAAId,GAAMc,EAAMC,KAEhBF,GAAMG,QAAUF,EAAMG,cAAgB,6NAEtCH,EAAMI,KAAK,MAAOL,EAAMG,SAExBR,EAAUR,EAAK,WACbc,EAAMI,KAAK,MAAOlB,IACjB,WAC2BmB,SAAxBL,EAAMM,eACRN,EAAMI,KAAK,MAAOJ,EAAMM,sBAQpCvB,EAAQC,OAAO,yBAAyBS,UAAU,kBAAmB,YACnE,SAAUC,GAER,OACEC,SAAU,IACVG,KAAM,SAAUC,EAAOV,EAASW,GACDK,SAAzBL,EAAMO;AAERR,EAAMG,QAAUF,EAAMG,cAAgB,6NAEtCd,EAAQmB,KACNC,mBAAoB,QAAUV,EAAMG,QAAQ,OAG9CR,EAAUM,EAAMO,eAAgB,WAC9BlB,EAAQmB,KACNC,mBAAoB,QAAUT,EAAMO,eAAiB,QAEtD,WAC2BF,SAAxBL,EAAMM,eACRjB,EAAQmB,KACNC,mBAAoB,QAAUT,EAAMM,cAAgB","file":"angular-preload-image.min.js","sourcesContent":["(function (angular) {\n  'use strict';\n\n  angular.module('angular-preload-image', []);\n\n  angular.module('angular-preload-image').factory('preLoader', function () {\n\n    return function (url, successCallback, errorCallback) {\n      angular.element(new Image()).bind('load', function () {\n        successCallback();\n      }).bind('error', function () {\n        errorCallback();\n      }).attr('src', url);\n    };\n  });\n\n  angular.module('angular-preload-image').directive('preloadImage', ['preLoader',\n    function (preLoader) {\n\n      return {\n        restrict: 'A',\n        terminal: true,\n        priority: 100,\n        link: function (scope, element, attrs) {\n          var url = attrs.ngSrc;\n\n          scope.default = attrs.defaultImage || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wEWEygNWiLqlwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAMSURBVAjXY/j//z8ABf4C/tzMWecAAAAASUVORK5CYII=';\n\n          attrs.$set('src', scope.default);\n\n          preLoader(url, function () {\n            attrs.$set('src', url);\n          }, function () {\n            if (attrs.fallbackImage !== undefined) {\n              attrs.$set('src', attrs.fallbackImage);\n            }\n          });\n        }\n      };\n    }\n  ]);\n\n  angular.module('angular-preload-image').directive('preloadBgImage', ['preLoader',\n    function (preLoader) {\n\n      return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n          if (attrs.preloadBgImage !== undefined) {\n            //Define default image\n            scope.default = attrs.defaultImage || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wEWEygNWiLqlwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAMSURBVAjXY/j//z8ABf4C/tzMWecAAAAASUVORK5CYII=';\n\n            element.css({\n              'background-image': 'url(\"' + scope.default+'\")'\n            });\n\n            preLoader(attrs.preloadBgImage, function () {\n              element.css({\n                'background-image': 'url(\"' + attrs.preloadBgImage + '\")'\n              });\n            }, function () {\n              if (attrs.fallbackImage !== undefined) {\n                element.css({\n                  'background-image': 'url(\"' + attrs.fallbackImage + '\")'\n                });\n              }\n            });\n          }\n        }\n      };\n    }\n  ]);\n\n})();"],"sourceRoot":"/source/"}